<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confirmación - Sistema de Reservas</title>
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/step-4.css">
    
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&family=Lora:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">Hotel Reservas</h1>
                <nav class="header-nav">
                    <button class="btn-icon" aria-label="Menú">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <path d="M3 12h18M3 6h18M3 18h18" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </button>
                    <button class="btn-text">ES</button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Progress Bar -->
    <div class="progress-bar">
        <div class="container">
            <div class="progress-steps">
                <div class="step completed">
                    <span class="step-number">✓</span>
                    <span class="step-label">Fechas</span>
                </div>
                <div class="step completed">
                    <span class="step-number">✓</span>
                    <span class="step-label">Habitaciones</span>
                </div>
                <div class="step completed">
                    <span class="step-number">✓</span>
                    <span class="step-label">Pago</span>
                </div>
                <div class="step active completed">
                    <span class="step-number">✓</span>
                    <span class="step-label">Confirmación</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Success Message -->
            <div class="confirmation-header">
                <div class="success-icon">
                    <svg width="80" height="80" viewBox="0 0 80 80" fill="none">
                        <circle cx="40" cy="40" r="38" stroke="var(--color-success)" stroke-width="4"/>
                        <path d="M20 40l12 12 28-28" stroke="var(--color-success)" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <h2 class="confirmation-title">¡Reserva confirmada!</h2>
                <p class="confirmation-subtitle">
                    Tu reserva ha sido procesada correctamente. 
                    Hemos enviado un email de confirmación a <strong id="confirmationEmail">--</strong>
                </p>
                <div class="booking-reference">
                    <span>Número de reserva:</span>
                    <strong id="bookingId">--</strong>
                </div>
            </div>

            <!-- Booking Details -->
            <div class="confirmation-content">
                <!-- Guest Information -->
                <section class="confirmation-section">
                    <h3 class="section-title">Información del huésped</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Nombre</span>
                            <span class="info-value" id="guestName">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Email</span>
                            <span class="info-value" id="guestEmail">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Teléfono</span>
                            <span class="info-value" id="guestPhone">--</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">País</span>
                            <span class="info-value" id="guestCountry">--</span>
                        </div>
                    </div>
                </section>

                <!-- Stay Details -->
                <section class="confirmation-section">
                    <h3 class="section-title">Detalles de la estancia</h3>
                    <div class="stay-details">
                        <div class="date-box">
                            <div class="date-label">Check-in</div>
                            <div class="date-value" id="checkInDate">--</div>
                            <div class="date-time">A partir de las 15:00</div>
                        </div>
                        <div class="date-separator">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M8 7v10l5-5-5-5z"/>
                            </svg>
                            <span id="nightsCount">-- noches</span>
                        </div>
                        <div class="date-box">
                            <div class="date-label">Check-out</div>
                            <div class="date-value" id="checkOutDate">--</div>
                            <div class="date-time">Antes de las 12:00</div>
                        </div>
                    </div>
                </section>

                <!-- Room Details -->
                <section class="confirmation-section">
                    <h3 class="section-title">Habitaciones reservadas</h3>
                    <div class="rooms-list" id="roomsList">
                        <!-- Rooms will be generated by JavaScript -->
                    </div>
                </section>

                <!-- Extras Details -->
                <section class="confirmation-section" id="extrasSection" style="display: none;">
                    <h3 class="section-title">Servicios adicionales</h3>
                    <div class="extras-list" id="extrasList">
                        <!-- Extras will be generated by JavaScript -->
                    </div>
                </section>

                <!-- Payment Summary -->
                <section class="confirmation-section">
                    <h3 class="section-title">Resumen de pago</h3>
                    <div class="payment-summary">
                        <div class="payment-method">
                            <span class="info-label">Método de pago:</span>
                            <span class="info-value" id="paymentMethod">--</span>
                        </div>
                        <div class="price-breakdown">
                            <div class="price-row">
                                <span>Subtotal:</span>
                                <span id="subtotal">€0</span>
                            </div>
                            <div class="price-row" id="discountRow" style="display: none;">
                                <span>Descuento:</span>
                                <span id="discount" class="text-success">-€0</span>
                            </div>
                            <div class="price-row">
                                <span>Impuestos:</span>
                                <span id="taxes">€0</span>
                            </div>
                            <div class="price-row total">
                                <span>Total pagado:</span>
                                <span id="totalPaid">€0</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Hotel Information -->
                <section class="confirmation-section">
                    <h3 class="section-title">Información del hotel</h3>
                    <div class="hotel-info">
                        <h4>Hotel La Monnaie</h4>
                        <p>3 Rue de la Monnaie<br>
                        17000 La Rochelle, Francia</p>
                        <p>Tel: +33 5 46 50 65 65<br>
                        Email: contact@hotelmonnaie.com</p>
                        
                        <div class="map-container">
                            <iframe 
                                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2762.6654308398!2d-1.1532!3d46.1591!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zNDbCsDA5JzMyLjgiTiAxwrAwOScxMS41Ilc!5e0!3m2!1sen!2s!4v1234567890"
                                width="100%" 
                                height="300" 
                                style="border:0;" 
                                allowfullscreen="" 
                                loading="lazy">
                            </iframe>
                        </div>
                    </div>
                </section>

                <!-- Important Information -->
                <section class="confirmation-section">
                    <h3 class="section-title">Información importante</h3>
                    <div class="important-info">
                        <div class="info-card">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/>
                            </svg>
                            <div>
                                <h4>Política de cancelación</h4>
                                <p>Cancelación gratuita hasta 24 horas antes de la llegada. 
                                Después se cobrará el 100% del importe de la primera noche.</p>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"/>
                            </svg>
                            <div>
                                <h4>Check-in y Check-out</h4>
                                <p>Check-in a partir de las 15:00<br>
                                Check-out antes de las 12:00</p>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zM6.5 13c-2.49 0-4.5 2.01-4.5 4.5S4.01 22 6.5 22 11 19.99 11 17.5 8.99 13 6.5 13z"/>
                            </svg>
                            <div>
                                <h4>Documentación necesaria</h4>
                                <p>Es necesario presentar un documento de identidad válido y la tarjeta de crédito utilizada para la reserva.</p>
                            </div>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Action Buttons -->
            <div class="confirmation-actions">
                <button class="btn-secondary" id="printButton">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M15 6V2H5v4H3v7c0 1.1.9 2 2 2h2v3h6v-3h2c1.1 0 2-.9 2-2V6h-2zm-8-2h6v2H7V4zm6 12H7v-4h6v4zm2-4v-2H5v2H3V8h14v4h-2z"/>
                    </svg>
                    Imprimir confirmación
                </button>
                <button class="btn-secondary" id="downloadButton">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                        <path d="M13 8V2H7v6H4l6 6 6-6h-3zM0 15h20v2H0z"/>
                    </svg>
                    Descargar PDF
                </button>
                <button class="btn-primary" id="newBookingButton">
                    Nueva reserva
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="booking-footer">
        <div class="container">
            <div class="footer-content">
                <p class="footer-text">
                    ¿Necesitas ayuda? Contacta con nosotros: 
                    <a href="tel:+33546506565">+33 5 46 50 65 65</a> | 
                    <a href="mailto:contact@hotelmonnaie.com">contact@hotelmonnaie.com</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/state.js"></script>
    <script src="js/common.js"></script>
    <script src="js/step-4.js"></script>
</body>
</html>